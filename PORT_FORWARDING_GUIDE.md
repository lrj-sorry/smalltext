# SmallText 网站 - 路由器端口映射配置指南

## 准备信息

### 1. 您的局域网 IP 地址
已获取到您电脑的局域网 IP 地址：
```
192.168.166.18
```

### 2. 网站运行端口
SmallText 网站正在运行的端口：
```
8000
```

### 3. 您的 IPv4 公网地址
您已提供 IPv4 公网地址：
```
112.96.53.230
```

## 详细配置步骤

### 步骤 1：登录路由器管理界面
1. 打开浏览器
2. 在地址栏中输入路由器的默认网关地址（通常为 192.168.1.1、192.168.0.1 或 192.168.1.0）
3. 输入路由器的用户名和密码（通常可以在路由器背面找到）

### 步骤 2：配置端口映射
不同品牌的路由器界面可能略有不同，但配置步骤基本相似。

#### 通用配置参数
无论您使用什么品牌的路由器，都需要填写以下参数：
- **服务名称/规则名称**：SmallText
- **内部 IP 地址**：192.168.166.18（您电脑的局域网 IP）
- **内部端口**：8000（网站运行端口）
- **外部端口**：8000（可以与内部端口相同）
- **协议**：TCP
- **状态**：启用

#### 常见路由器品牌配置指南

**华为路由器**
1. 登录路由器管理界面
2. 点击 "高级设置" → "NAT" → "虚拟服务器"
3. 点击 "添加"
4. 填写上述通用配置参数
5. 点击 "保存"

**小米路由器**
1. 登录路由器管理界面
2. 点击 "高级设置" → "端口转发"
3. 点击 "添加规则"
4. 填写上述通用配置参数
5. 点击 "保存"

**TP-Link 路由器**
1. 登录路由器管理界面
2. 点击 "转发规则" → "虚拟服务器"
3. 点击 "添加新条目"
4. 填写上述通用配置参数
5. 点击 "保存"

**华硕路由器**
1. 登录路由器管理界面
2. 点击 "外部网络" → "端口转发"
3. 点击 "添加配置文件"
4. 填写上述通用配置参数
5. 点击 "应用本页面设置"

### 步骤 3：验证配置
1. 确保您的本地 HTTP 服务器正在运行（已确认运行中）
2. 打开浏览器，输入 `http://您的公网IP:8000`（例如：http://123.45.67.89:8000）
3. 如果能正常访问 SmallText 网站，说明端口映射配置成功

### 步骤 4：不同 WiFi 下访问
1. 确保手机连接到不同的 WiFi 网络（非您电脑所在的 WiFi）
2. 打开手机浏览器
3. 输入 `http://您的公网IP:8000`
4. 您应该能看到 SmallText 网站的登录页面

## 测试账号

- **管理员账号**: admin / admin123
- **普通用户账号**: user1 / user1123

## 常见问题排查

### 无法访问网站怎么办？
检查以下几点：
1. 本地 HTTP 服务器是否正在运行（已确认运行中）
2. 路由器端口映射配置是否正确
3. 防火墙是否开放了 8000 端口
4. 公网 IP 是否为动态 IP（可能会变化）
5. 您的网络运营商是否封锁了 8000 端口（可以尝试使用其他端口，如 8080）

### 如何检查防火墙设置？
**Windows 系统：**
1. 打开 "控制面板" → "系统和安全" → "Windows Defender 防火墙"
2. 点击 "允许应用或功能通过 Windows Defender 防火墙"
3. 确保 "Python" 或 "HTTP 服务器" 已被允许

## 其他方案

如果您觉得路由器端口映射配置太复杂，可以尝试使用以下方案：

1. **使用内置内网穿透工具**：运行 `python simple_tunnel.py` 脚本
2. **使用FRP内网穿透**：参考 `README_FRP.md` 文件

## 配置完成后

配置完成后，您可以在 `index.html` 文件中更新公网访问地址，方便后续使用。

祝您配置成功！
